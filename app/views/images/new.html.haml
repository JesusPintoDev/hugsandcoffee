%div.admin-container
  %div.admin-navbar
    %div.logo
      = link_to image_tag('logo_temp.svg', alt: 'Logo'), root_path
    %div.bar
      %input.disabled{disabled: true}
      - if @profile.fullname == (nil || "")
        %p.name #{@profile.user.email}
      - else
        %p.name #{@profile.fullname}
      %div.pavatar
        - if @profile.avatar.attached?
          = image_tag url_for(@profile.avatar), alt: 'avatar', class: 'my_profile_avatar'
        - else
          = image_tag 'ico-blankuser.png', alt: 'avatar', class: 'my_profile_avatar'


  %div.admin-view

    %div.admin-sidebar
      %ul
        %li
          = link_to image_tag('ico-home.svg', alt: 'Icon'), profile_path
          = link_to "Home", profile_path
        %li
          = link_to image_tag('ico-profile.svg', alt: 'Icon'), my_profile_settings_path
          = link_to "Perfil", my_profile_settings_path
        %li.selected
          = link_to image_tag('ico-images.svg', alt: 'Icon'), my_profile_images_path
          = link_to "Imágenes", my_profile_images_path
        %li
          = link_to image_tag('ico-accounts.svg', alt: 'Icon'), my_profile_accounts_path
          = link_to "Cuentas", my_profile_accounts_path
        %li
          = link_to image_tag('ico-photo.svg', alt: 'Icon'), my_profile_photo_path
          = link_to "Foto de Perfil", my_profile_photo_path
        %li
          = link_to image_tag('ico-testimonial.svg', alt: 'Icon'), my_profile_testimonials_path
          = link_to "Testimoniales", my_profile_testimonials_path
        %li#link
          = image_tag('ico-link.svg', alt: 'Icon')
          = link_to "Generar Link", ""

    %div.admin-content

      %div.header
        = link_to image_tag('ico-return.svg', alt: 'Icon'), my_profile_images_path
        %a.returnbtn(href=my_profile_images_path) Listado de imágenes
        %h1 Agregar imagen
        %div.separator

      -# = form_with(model: [@profile, @image], local: true) do |f|
      = form_for @image do |f|
        %div.info
          %div.card.transparent
            %div.card-body
              %h5.card-title Imagen del carousel
              %p.card-text Agregar imagen que se mostrará en el carousel del perfil público
          %div.card
            %div.card-body.rpad
              %div.card-title Imagen principal
              -# %p.card-text url
              = f.file_field :url, required: true, class: 'dropify', id: "input-file-now"
  
        %div.info
          %div.card.transparent
            %div.card-body
              %h5.card-title Datos de la imagen
              %p.card-text Parámetro de publicación y leyenda de la imagen a mostrarse en el carousel
          %div.card
            %div.card-body
              %h5.card-title Subtítulo
              = f.text_field :description
              %div.checkbox
                = f.check_box :show, {}, 1, 0
                %p Mostrar esta imagen en el perfil público
              -# %p.card-text show
         
        %div.footer
          .actions
            = f.submit 'Guardar', :class => "pinkbtn"
          %div.separator

:javascript
  document.addEventListener('turbolinks:load',function () {
    document.getElementById("link").onclick = function() {
      alert("¡Copia el siguiente link y compártelo!\n\nhttp://localhost:3000/profiles/#{@my_profile.id}")
    }
  })